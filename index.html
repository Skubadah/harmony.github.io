<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Damage Price Calculator</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: #f4f4f9;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        margin: 0;
        padding: 20px;
    }
    .container {
        background: #fff;
        padding: 30px 20px;
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        max-width: 450px;
        width: 100%;
        text-align: center;
    }
    .logo {
        display: block;
        margin: 0 auto 20px auto;
        width: 120px;
        border-radius: 10px;
    }
    h1, h2 {
        color: #333;
    }
    h2 {
        margin-top: 20px;
        margin-bottom: 10px;
        font-size: 18px;
    }
    .button-group {
        display: flex;
        flex-wrap: nowrap; /* Keep buttons in one line */
        gap: 5px; /* Space between buttons */
        justify-content: space-between; /* Evenly distribute buttons */
        margin-bottom: 10px;
    }
    .button-group button {
        margin: 0; /* Remove individual button margins */
        padding: 6px 8px; /* Smaller padding */
        font-size: 12px; /* Smaller font size */
        border: none;
        border-radius: 5px;
        cursor: pointer;
        background: #ff4081;
        color: #fff;
        transition: 0.2s;
        flex: 1; /* Equal width for all buttons */
        text-align: center;
    }
    .button-group button:hover {
        background: #e73370;
    }
    .button-group button.active {
        background: #6a1b9a;
    }
    label {
        font-weight: 600;
        margin-bottom: 5px;
    }
    .parts-container {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: space-between;
        margin-bottom: 15px;
    }
    .part-item {
        flex: 1 1 28%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .part-item input {
        width: 80px;
        padding: 5px;
        text-align: center;
        border-radius: 5px;
        border: 1px solid #ccc;
    }
    .result {
        margin-top: 20px;
        padding: 15px;
        border-radius: 10px;
        font-weight: bold;
        font-size: 24px;
        color: #ff4081;
        transition: color 0.3s;
    }
</style>
</head>
<body>
<div class="container">
    <img src="https://i.postimg.cc/W4B5bZBk/logo1.jpg" alt="Logo" class="logo">
    <h1>Damage Price Calculator</h1>

    <h2>Body Damage</h2>
    <div class="button-group" id="bodyButtons">
        <button onclick="toggleBody(235, this)" aria-label="Minor Body Damage">Minor</button>
        <button onclick="toggleBody(379, this)" aria-label="Moderate Body Damage">Moderate</button>
        <button onclick="toggleBody(470, this)" aria-label="Heavy Body Damage">Heavy</button>
        <button onclick="toggleBody(561, this)" aria-label="Severe Body Damage">Severe</button>
        <button onclick="toggleBody(705, this)" aria-label="Extreme Body Damage">Extreme</button>
    </div>

    <h2>Engine Damage</h2>
    <div class="button-group" id="engineButtons">
        <button onclick="toggleEngine(235, this)" aria-label="Minor Engine Damage">Minor</button>
        <button onclick="toggleEngine(379, this)" aria-label="Moderate Engine Damage">Moderate</button>
        <button onclick="toggleEngine(470, this)" aria-label="Heavy Engine Damage">Heavy</button>
        <button onclick="toggleEngine(561, this)" aria-label="Severe Engine Damage">Severe</button>
        <button onclick="toggleEngine(705, this)" aria-label="Extreme Engine Damage">Extreme</button>
    </div>

    <h2>Parts & Discount</h2>
    <div class="parts-container">
        <div class="part-item">
            <label for="doors">Doors</label>
            <input type="number" id="doors" value="0" min="0" oninput="updateTotal()" aria-label="Number of Doors">
        </div>
        <div class="part-item">
            <label for="windows">Windows</label>
            <input type="number" id="windows" value="0" min="0" oninput="updateTotal()" aria-label="Number of Windows">
        </div>
        <div class="part-item">
            <label for="tires">Tires</label>
            <input type="number" id="tires" value="0" min="0" oninput="updateTotal()" aria-label="Number of Tires">
        </div>
        <div class="part-item">
            <label for="motorOil">Motor Oil</label>
            <input type="number" id="motorOil" value="0" min="0" oninput="updateTotal()" aria-label="Number of Motor Oil Units">
        </div>
        <div class="part-item">
            <label for="advanced">Advanced</label>
            <input type="number" id="advanced" value="0" min="0" oninput="updateTotal()" aria-label="Number of Advanced Units">
        </div>
        <div class="part-item">
            <label for="discount">Disc %</label>
            <input type="number" id="discount" value="0" min="0" max="100" oninput="updateTotal()" aria-label="Discount Percentage">
        </div>
    </div>

    <div class="result" id="result">$0</div>
</div>

<script>
    let bodyDamage = 0;
    let engineDamage = 0;

    function toggleBody(price, btn) {
        if (bodyDamage === price) {
            bodyDamage = 0;
            btn.classList.remove('active');
        } else {
            bodyDamage = price;
            setActiveButton(btn, 'bodyButtons');
        }
        updateTotal();
    }

    function toggleEngine(price, btn) {
        if (engineDamage === price) {
            engineDamage = 0;
            btn.classList.remove('active');
        } else {
            engineDamage = price;
            setActiveButton(btn, 'engineButtons');
        }
        updateTotal();
    }

    function setActiveButton(btn, groupId) {
        const group = document.getElementById(groupId);
        Array.from(group.children).forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    function updateTotal() {
        const parts = ['doors', 'windows', 'tires', 'motorOil', 'advanced'];
        const prices = [88, 54, 20, 700, 700]; // Updated prices from user data

        let partsTotal = 0;

        parts.forEach((id, idx) => {
            const input = document.getElementById(id);
            const val = Math.max(0, parseInt(input.value) || 0); // Prevent negative values
            input.value = val; // Update input
            const cost = val * prices[idx];
            partsTotal += cost;
        });

        const discountInput = document.getElementById('discount');
        let discount = parseFloat(discountInput.value) || 0;
        discount = Math.max(0, Math.min(100, discount)); // Restrict to 0â€“100%
        discountInput.value = discount; // Update input

        let total = bodyDamage + engineDamage + partsTotal;
        let discountAmount = (total * discount) / 100;
        let finalTotal = total - discountAmount;

        const result = document.getElementById('result');
        if (finalTotal === 0) {
            result.style.color = 'gray';
        } else {
            result.style.color = '#ff4081';
        }
        result.innerText = `$${Math.round(finalTotal)}`; // Round to whole number
    }
</script>
</body>
</html>